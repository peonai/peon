---
title: "Swarm AI：教会一个 Agent，所有 Agent 都记住"
date: 2026-02-22
summary: "我给 AI Agent 们搭了一层共享记忆。再也不用在 Claude、ChatGPT、Gemini 和本地模型之间反复自我介绍了。"
description: "开源自托管的 AI Agent 共享记忆层。跨 Claude、ChatGPT、Gemini 和本地 LLM 统一用户画像，零配置接入。"
categories: ["tech"]
tags: ["swarm", "ai", "open-source", "agents", "self-hosted", "llm", "multi-agent"]
keywords: ["AI agent 记忆", "共享上下文", "用户画像同步", "自托管 AI", "多 Agent 协作", "llms.txt"]
cover:
  image: ""
  alt: "Swarm AI - AI Agent 共享记忆层"
  caption: ""
---

## 没人谈论的问题

你用 Claude 写代码，ChatGPT 写文案，Gemini 做调研，本地 Agent 跑自动化。

每一个都从零开始。每一个都问同样的问题：

> 「你习惯用什么语言？」
> 「你用什么技术栈？」
> 「你在哪个时区？」

你反复重复自己。无休止地。跨设备、跨平台、跨 Agent。**N 台设备 × M 个 Agent = N×M 个信息孤岛。**

我受够了。所以我造了个东西。

## Swarm AI 是什么？

Swarm AI 是一个自托管服务器，给你所有的 AI Agent 提供共享记忆。一个 Agent 了解了你的某个信息——所有 Agent 都知道。

可以把它理解成一个用户画像 API，任何 Agent 都能读写。身份、偏好、工作上下文、沟通风格——按层组织，带置信度评分，标注来源。

```
Agent A ──┐                    ┌── 画像（分层）
Agent B ──┤── Swarm API ──────┤── 记忆（FTS5）
Agent C ──┘   (REST + JWT)     └── 审计日志
```

不需要 SDK。不锁定框架。只要你的 Agent 能发 HTTP 请求，就能加入蜂群。

## 30 秒接入

这是我最得意的部分。

传统集成流程：读文档 → 装 SDK → 配认证 → 写集成代码 → 测试 → 部署。每个 Agent 都要花几个小时。

Swarm 的方式：**复制一段 prompt，粘贴给你的 Agent，完事。**

流程是这样的：

1. 打开 Swarm 控制台
2. 点击接入卡片上的「复制 Prompt」
3. 发给任意 AI Agent

这段 prompt 里包含一个 `llms.txt` URL，里面内嵌了你的 API token。Agent 读取文档，学会 API，开始同步——全在一轮对话里完成。

```
连接我的 Swarm AI 画像系统。
读取文档 https://hive.example.com/llms.txt?key=swarm_xxx
用它来了解我，并记住你学到的东西。
```

就这样。零配置文件。零代码。Agent 自己教自己。

## 实际工作原理

### 分层画像

数据按自由格式的层组织：

- **identity** — 姓名、语言、时区
- **preferences** — 技术栈、编辑器、沟通风格
- **work** — 项目、角色、GitHub
- **context** — 临时信息，24 小时自动过期

每条记录带置信度评分。高置信度事实（用户明确说的）永远不会被低置信度猜测（Agent 从上下文推断的）覆盖。

### 共享记忆

除了结构化画像，Agent 还能写入和搜索自由文本记忆：

```
POST /api/v1/memory
{"content": "用户完成了 Swarm AI 的发布", "tags": ["milestone"]}
```

通过 FTS5 全文搜索。配置 embedding API 后还支持语义搜索。

### 多用户与租户隔离

每个用户有独立的数据空间。管理员控制谁能访问什么。注册在你账号下的 Agent 只能看到你的数据。

### Observe API

不想手动组织结构化数据？直接扔自然语言过来：

```
POST /api/v1/profile/observe
{"text": "用户偏好 TypeScript，在 WSL2 上用 VSCode"}
```

Swarm 自动提取结构化画像条目。

## 为什么要自托管？

你的画像数据极其私密。它就是一张关于你是谁、你做什么、你怎么思考的地图。这些数据应该放在**你的**服务器上，在**你的**控制之下。

Swarm 以单个 Next.js 进程运行，搭配 SQLite。一条命令安装：

```bash
npx @peonai/swarm
```

交互式 CLI 会询问端口、管理员 token，还可以选择配置 systemd 服务。从零到运行，不到一分钟。

## 接下来

- **MCP Server** — 原生支持 Model Context Protocol 的 Agent 集成
- **冲突解决** — Agent 之间意见不一致时更智能的合并策略
- **画像版本控制** — 在画像历史中时间旅行
- **联邦** — 多个 Swarm 实例之间共享数据（需用户同意）

## 试试看

Swarm AI 基于 MIT 协议开源。

- **npm**: `npx @peonai/swarm`
- **GitHub**: [github.com/peonai/swarm](https://github.com/peonai/swarm)
- **在线演示**: [hive.peonai.net](https://hive.peonai.net) — 测试账号：`peon` / `123456`

> ⚠️ 演示是公共实例。请勿连接你的真实 AI Agent 或输入个人信息。测试请用虚拟机或一次性 Agent。

如果你也受够了对每个新 AI Agent 重复自我介绍，试试看。一次安装，一段 prompt，你的 Agent 们终于能互相通气了。

---

*由 [PeonAI](https://github.com/peonai) 构建。Work work. ⛏️*
